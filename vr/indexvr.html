<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Treinamentos VR</title>
    <meta name="description" content="Escola Virtual" />

    <script src="../lib/aframe.min.js"></script>
    <script src="../lib/aframe-extras.controls.min.js"></script>

    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <script src="./components.js"></script>
    <script src="./controller.js"></script>
    <script src="./handle_trainings.js"></script>
    <script src="./utils.js"></script>

    <div class="page" id="loadingScreen">
      <div class="container text-center">
        <div class="row">
          <div class="col-md-6 align-self-center">
            <img src="../assets/logo1.png" id="logo" />
          </div>
          <div class="col-md-6 align-self-center">
            <p class="display-6 fw-bold text-center" style="color: white">
              Carregando...
            </p>
            <div
              class="spinner-border float-center text-light"
              role="status"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <a-scene
      renderer="antialias: true;"
      id="scene"
      inspector-plugin-recast
      style="display: none"
    >
      <!-- Environment -->
      <a-entity
        environment="skyType: atmosphere; lighting: none; playArea: 1.67; dressingAmount: 500; ground: flat; groundColor: #262626; groundColor2: #292929"
      ></a-entity>

      <!-- Player -->
      <a-entity
        movement-controls="speed: 0.5; camera: #camera;"
        position="0 0 0"
        rotation="0 0 0"
        id="player"
      >
        <a-entity
          camera="near:0.01;"
          look-controls
          fov="100"
          id="#camera"
          position="0 1 0"
        >
          <a-entity
            id="#hud"
            position="0 0.04 -1.0"
            scale="0.1 0.1 0.1"
            rotation="0 0 0"
          >
          </a-entity>
        </a-entity>

        <a-entity
          id="leftController"
          laser-controls="hand: left;"
          grab
          thumbstick-logging-left
        >
          <a-entity
            id="raycasterLeft"
            cursor="fuse: true; fuseTimeout: 500"
            position="0 0 -.1"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
            material="color: gray; shader: flat"
            raycaster="objects: .clicable; showLine: true; far: 2; lineColor: red; lineOpacity: 0.5"
          >
          </a-entity>
        </a-entity>

        <a-entity
          id="rightController"
          laser-controls="hand: right;"
          grab
          thumbstick-logging-right
        >
          <a-entity
            id="raycasterRight"
            cursor="fuse: true; fuseTimeout: 500"
            position="0 0 -.1"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
            material="color: gray; shader: flat"
            raycaster="objects: .clicable; showLine: true; far: 2; lineColor: red; lineOpacity: 0.5"
          >
          </a-entity>
        </a-entity>
      </a-entity>

      <!-- Lights -->
      <a-entity id="lights">
        <a-entity light="type: ambient; color: #FFF"></a-entity>

        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="7.9 2.8 0.0"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="3.9 2.8 0.0"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="-2.1 2.8 0.0"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="6.7 2.8 -5.3"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="9.0 2.8 5.8"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="5.2 2.8 5.8"
        ></a-entity>
        <a-entity
          light="type: directional; color: #FFF; intensity: 0.4"
          position="1.9 2.8 5.8"
        ></a-entity>
      </a-entity>

      <a-box
        id="whiteboard"
        color="white"
        depth="1"
        height="8"
        width="15"
        position="2 4.47967 0.25"
        geometry="depth: 0.3"
        clicable
      ></a-box>
      <a-box
        depth="1"
        height="9"
        width="19"
        position="2 4.50462 0"
        material="color: #342313"
        geometry="depth: 0.3"
      ></a-box>

      <a-box
        color="green"
        height="1"
        width="1"
        position="10.5 2 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="green"
        height="1"
        width="1"
        position="-6.5 2 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="black"
        height="1"
        width="1"
        position="10.5 3.5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="black"
        height="1"
        width="1"
        position="-6.5 3.5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="red"
        height="1"
        width="1"
        position="10.5 5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="red"
        height="1"
        width="1"
        position="-6.5 5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="blue"
        height="1"
        width="1"
        position="10.5 6.5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        color="blue"
        height="1"
        width="1"
        position="-6.5 6.5 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        id="eraser"
        color="gray"
        height="0.4"
        width="1"
        position="-6.5 8 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
      <a-box
        id="eraser"
        color="gray"
        height="0.4"
        width="1"
        position="10.5 8 0.25"
        geometry="depth: 0.2"
        clicable
        class="changeColor"
      ></a-box>
    </a-scene>
  </body>
</html>

<style>
  .page {
    background-color: #3298b3;
    height: 100vh;
    width: 100vw;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 8rem;
  }

  #logo {
    width: 80%;
    height: auto;
    border-radius: 50%;
    border: 5px solid white;
  }
</style>
